@using digioz.Portal.Domain.Constants
@using System.Linq;
@using digioz.Portal.Utilities
@model digioz.Portal.Web.Areas.Forum.ViewModels.HighEarnersPointViewModel

@if (Html.Settings().EnablePoints)
{
    <div class="side-box highearners-box">
    <h5>@Html.LanguageString("Points.ThisWeeksHighEarners")</h5>

    <ul>
        @foreach (var dict in Model.HighEarners.Where(x => x.Value > 0))
        {
            var avatar = dict.Key.Profiles.First().Avatar;
            if (string.IsNullOrEmpty(avatar)) { avatar = "Default.png"; }

            <li>
                <span class="earnername">
                    <img src="~/Content/Avatar/Thumb/@avatar" alt="@dict.Key.UserName">
                    <a href="@dict.Key.NiceUrl">@dict.Key.UserName</a>
                </span>
                <span class="earneramount">@dict.Value</span>
            </li>
        }
    </ul>

    </div>
}